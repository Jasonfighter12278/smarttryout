<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <title>Dashboard</title>
  <style>
    body { margin: 0; font-family: Arial, sans-serif; background: #8b0000; color: #fff; }
    .hidden { display: none; }

    /* Navbar */
    .navbar {
      background: #a32020; color: #fff;
      padding: 12px 20px;
      display: flex; align-items: center; justify-content: space-between;
      position: relative;
    }
    .nav-links { display: flex; gap: 20px; align-items: center; }
    .nav-links a { color: #fff; text-decoration: none; font-weight: bold; cursor: pointer; }
    .nav-links a:hover { text-decoration: underline; }

    /* Dropdown */
    .dropdown {
      position: relative;
      display: inline-block;
    }
    .dropdown-content {
      display: none;
      position: absolute;
      background: #fff;
      min-width: 180px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      z-index: 10;
      border-radius: 6px;
      overflow: hidden;
      right: 0;
    }
    .dropdown-content a {
      color: #000;
      padding: 10px 15px;
      text-decoration: none;
      display: block;
    }
    .dropdown-content a:hover {
      background: #f2f2f2;
    }
    .dropdown:hover .dropdown-content {
      display: block;
    }

    /* Profile dropdown */
    .profile {
      display: flex;
      align-items: center;
      cursor: pointer;
      gap: 8px;
    }
    .profile img {
      width: 30px;
      height: 30px;
      border-radius: 50%;
    }
    .profile-name {
      font-weight: bold;
      font-size: 14px;
    }

    /* Page content */
    .container { padding: 20px; }
    h2 { color: #fff; }

    /* Messages */
    .messages { max-width: 500px; margin: auto; }
    .message-list {
      border: 1px solid #ccc; padding: 10px;
      height: 200px; overflow-y: auto;
      background: #fff; border-radius: 8px; margin-bottom: 10px; color: #000;
    }
    .message { padding: 5px; border-bottom: 1px solid #eee; }
    .message strong { color: #a32020; }
    input, button { padding: 10px; margin: 5px 0; border-radius: 6px; border: 1px solid #ccc; }
    button { background: #3498db; color: white; border: none; cursor: pointer; }
    button:hover { background: #2980b9; }
  </style>
</head>
<body>

<!-- Navbar -->
<div class="navbar">
  <div class="nav-links">
    <a onclick="showPage('home')">Start</a>

    <!-- Dropdown for links -->
    <div class="dropdown">
      <a>Links â–¾</a>
      <div class="dropdown-content">
        <a href="https://smg.smartschool.be" target="_blank">ðŸ“˜ Smartschool</a>
        <a href="https://youtube.com" target="_blank">ðŸŽ¥ YouTube</a>
        <a href="https://vrt.be" target="_blank">ðŸ“º VRT</a>
        <a href="https://wikipedia.org" target="_blank">ðŸ“š Wikipedia</a>
      </div>
    </div>

    <a onclick="showPage('messages')">Berichten</a>
  </div>

  <!-- Profile dropdown -->
  <div class="dropdown">
    <div class="profile">
      <img id="profilePic" src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Profiel">
      <span class="profile-name" id="profileName"></span> â–¾
    </div>
    <div class="dropdown-content">
      <a href="#">ðŸ‘¤ Profiel</a>
      <a onclick="logout()">ðŸšª Uitloggen</a>
    </div>
  </div>
</div>

<!-- Home -->
<div id="home" class="container">
  <h2>Welkom, <span id="userDisplay"></span> ðŸŽ‰</h2>
  <p>Dit is je dashboard.</p>
</div>

<!-- Messages -->
<div id="messages" class="container hidden">
  <h2>Berichten</h2>
  <div class="messages">
    <div class="message-list" id="messageList"></div>
    <input type="text" id="messageInput" placeholder="Typ een bericht...">
    <button onclick="sendMessage()">Verstuur</button>
  </div>
</div>

<script>
  // âœ… Session check
  const user = localStorage.getItem("loggedInUser");
  if (!user) { window.location.href = "index.html"; }

  // show username in navbar + home
  document.getElementById("userDisplay").textContent = user;
  document.getElementById("profileName").textContent = user;

  // âœ… You can change this profile picture URL
  document.getElementById("profilePic").src = "https://cdn-icons-png.flaticon.com/512/3135/3135715.png";

  // âœ… Page switcher
  function showPage(id) {
    document.querySelectorAll(".container").forEach(div => div.classList.add("hidden"));
    document.getElementById(id).classList.remove("hidden");
  }

  // âœ… Logout
  function logout() {
    localStorage.removeItem("loggedInUser");
    window.location.href = "index.html";
  }

  // âœ… Messages (demo, not saved permanently)
  const messages = [];
  function sendMessage() {
    const input = document.getElementById("messageInput");
    const text = input.value.trim();
    if (text) {
      messages.push({ user, text });
      input.value = "";
      renderMessages();
    }
  }
  function renderMessages() {
    const list = document.getElementById("messageList");
    list.innerHTML = "";
    messages.forEach(m => {
      const div = document.createElement("div");
      div.className = "message";
      div.innerHTML = `<strong>${m.user}:</strong> ${m.text}`;
      list.appendChild(div);
    });
    list.scrollTop = list.scrollHeight;
  }
</script>

</body>
</html>
