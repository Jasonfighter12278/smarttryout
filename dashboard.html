<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Smartschool NextGen Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    :root {
      --bg:#f4f6f8; --card:#ffffff; --accent:#ff7043; --accent2:#ff9f68;
      --radius:14px; --shadow:0 6px 18px rgba(0,0,0,0.08);
    }
    *{box-sizing:border-box;}
    body,html{margin:0;font-family:Inter,system-ui;background:var(--bg);height:100%;}
    .app{display:grid;grid-template-columns:260px 1fr;min-height:100vh;}
    .sidebar{background:linear-gradient(180deg,var(--accent),#e74c3c);color:#fff;padding:20px;display:flex;flex-direction:column;}
    .brand{font-weight:700;font-size:18px;margin-bottom:30px;}
    .nav{display:flex;flex-direction:column;gap:8px;}
    .nav button{border:0;background:transparent;color:#fff;padding:12px;border-radius:10px;text-align:left;cursor:pointer;font-weight:600;transition:0.2s;}
    .nav button.active,.nav button:hover{background:rgba(255,255,255,0.2);}
    .nav button i{margin-right:10px;}
    .profile{margin-top:auto;display:flex;align-items:center;gap:10px;border-top:1px solid rgba(255,255,255,.2);padding-top:15px;}
    .profile img{width:45px;height:45px;border-radius:50%;}
    .logout{background:#fff;color:#e74c3c;font-size:14px;padding:6px 10px;border-radius:8px;cursor:pointer;font-weight:600;}
    .main{display:flex;flex-direction:column;}
    .topbar{display:flex;align-items:center;justify-content:space-between;padding:15px 25px;background:#fff;box-shadow:var(--shadow);}
    .search{flex:1;margin-right:20px;display:flex;align-items:center;gap:8px;background:var(--bg);padding:8px 14px;border-radius:8px;}
    .search input{flex:1;border:0;outline:0;background:transparent;}
    .icon-btn{border:0;background:var(--bg);border-radius:8px;padding:10px;cursor:pointer;}
    .content{padding:25px;overflow:auto;}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px;}
    .card{background:var(--card);padding:20px;border-radius:var(--radius);box-shadow:var(--shadow);}
    .card h2{margin:0 0 15px;}
    .agenda-item{padding:10px;background:var(--bg);border-radius:10px;margin-bottom:8px;}
    .msg{display:flex;gap:10px;align-items:center;padding:12px;border-radius:10px;background:var(--bg);margin-bottom:10px;}
    .msg .avatar{width:40px;height:40px;border-radius:50%;background:#ddd;}
    .progress{width:120px;height:120px;border-radius:50%;background:conic-gradient(var(--accent) calc(var(--p)*1%),#ddd 0);display:flex;align-items:center;justify-content:center;font-weight:700;color:#333;font-size:20px;margin:auto;}
    .clock{font-size:18px;font-weight:600;color:#444;}
    @media(max-width:900px){.app{grid-template-columns:70px 1fr}.nav button span{display:none}}
  </style>
</head>
<body>
<div class="app">
  <aside class="sidebar">
    <div class="brand">Smartschool NG</div>
    <nav class="nav">
      <button class="active" data-view="dashboard"><i class="fa fa-house"></i><span>Dashboard</span></button>
      <button data-view="agenda"><i class="fa fa-calendar-days"></i><span>Agenda</span></button>
      <button data-view="messages"><i class="fa fa-envelope"></i><span>Berichten</span></button>
      <button data-view="results"><i class="fa fa-chart-line"></i><span>Resultaten</span></button>
      <button data-view="attendance"><i class="fa fa-user-check"></i><span>Afwezigheden</span></button>
      <button data-view="files"><i class="fa fa-folder"></i><span>Bestanden</span></button>
      <button data-view="forms"><i class="fa fa-file-lines"></i><span>Formulieren</span></button>
      <button data-view="canteen"><i class="fa fa-utensils"></i><span>Cafetaria</span></button>
      <button data-view="transport"><i class="fa fa-bus"></i><span>Vervoer</span></button>
      <button data-view="settings"><i class="fa fa-gear"></i><span>Instellingen</span></button>
    </nav>
    <div class="profile">
      <img src="https://i.pravatar.cc/100" alt="user"/>
      <div>
        <div id="profileName">Demo User</div>
        <small>Learner</small>
      </div>
      <div class="logout" onclick="logout()">Log uit</div>
    </div>
  </aside>
  <div class="main">
    <header class="topbar">
      <div id="greeting"></div>
      <div class="clock" id="clock"></div>
      <div><button class="icon-btn"><i class="fa fa-bell"></i></button></div>
    </header>
    <div class="content">
      <!-- Dashboard -->
      <section id="dashboard" class="view">
        <div class="grid">
          <div class="card">
            <h2>Welkom terug!</h2>
            <p id="welcomeMsg"></p>
          </div>
          <div class="card">
            <h2>Vandaag in Agenda</h2>
            <div id="agendaList"></div>
          </div>
          <div class="card">
            <h2>Recente berichten</h2>
            <div class="msg"><div class="avatar"></div><div><strong>Directie</strong><br/>Oudercontact morgen</div></div>
            <div class="msg"><div class="avatar"></div><div><strong>Jan Jansen</strong><br/>Kan je mijn taak nakijken?</div></div>
          </div>
          <div class="card" style="text-align:center">
            <h2>Attentie</h2>
            <div class="progress" id="attendanceProgress" style="--p:85">85%</div>
            <small>Aanwezigheden dit semester</small>
          </div>
        </div>
      </section>
      <!-- Other pages -->
      <section id="agenda" class="view" style="display:none"><h2>Agenda</h2><div class="card">[Lesrooster]</div></section>
      <section id="messages" class="view" style="display:none"><h2>Berichten</h2><div class="card">[Inbox]</div></section>
      <section id="results" class="view" style="display:none"><h2>Resultaten</h2><div class="card">[Rapport]</div></section>
      <section id="attendance" class="view" style="display:none"><h2>Afwezigheden</h2><div class="card">[Afwezigheden overzicht]</div></section>
      <section id="files" class="view" style="display:none"><h2>Bestanden</h2><div class="card">[Documenten]</div></section>
      <section id="forms" class="view" style="display:none"><h2>Formulieren</h2><div class="card">[Formulieren lijst]</div></section>
      <section id="canteen" class="view" style="display:none"><h2>Cafetaria</h2><div class="card" id="canteenMenu"></div></section>
      <section id="transport" class="view" style="display:none"><h2>Vervoer</h2><div class="card">[Busroutes]</div></section>
      <section id="settings" class="view" style="display:none"><h2>Instellingen</h2><div class="card">[Instellingen]</div></section>
    </div>
  </div>
</div>
<script>
  // Nav switching
  const buttons=document.querySelectorAll('.nav button');
  const views=document.querySelectorAll('.view');
  buttons.forEach(btn=>btn.addEventListener('click',()=>{
    buttons.forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    const id=btn.dataset.view;
    views.forEach(v=>v.style.display=v.id===id?\"block\":\"none\");
  }));

  // User profile
  const user=localStorage.getItem('loggedInUser');
  if(!user){ window.location.href='login.html'; }
  document.getElementById('profileName').textContent=user;
  document.getElementById('welcomeMsg').textContent=`Fijn dat je er bent, ${user}!`;

  // Greeting
  const hour=new Date().getHours();
  let greet=\"Goede dag\";
  if(hour<12) greet=\"Goedemorgen\"; else if(hour<18) greet=\"Goedemiddag\"; else greet=\"Goedenavond\";
  document.getElementById('greeting').textContent=greet;

  // Clock
  function updateClock(){
    const now=new Date();
    document.getElementById('clock').textContent=now.toLocaleTimeString('nl-NL',{hour:'2-digit',minute:'2-digit'});
  }
  setInterval(updateClock,1000);updateClock();

  // Agenda mock
  const agendaToday=[\"08:30 – Wiskunde\",\"10:15 – Nederlands\",\"13:00 – Sport\",\"15:00 – Engels\"];
  document.getElementById('agendaList').innerHTML=agendaToday.map(a=>`<div class='agenda-item'>${a}</div>`).join('');

  // Canteen mock (rotating menu)
  const menus=[\"Pasta bolognese €4,50\",\"Kip curry €4,20\",\"Lasagne €4,00\",\"Soep & brood €3,00\"];
  const day=new Date().getDay(); // 1=Mon
  document.getElementById('canteenMenu').innerHTML=menus[day%menus.length]+\" <button>Bestel</button>\";

  // Logout
  function logout(){localStorage.removeItem('loggedInUser');window.location.href='login.html';}
</script>
</body>
</html>
